"use strict";(self.webpackChunkfreshcart=self.webpackChunkfreshcart||[]).push([[932],{6666:(x,_,r)=>{r.r(_),r.d(_,{LoginComponent:()=>v});var g=r(6814),e=r(95),m=r(1120),n=r(4769),f=r(4768);function d(o,a){1&o&&(n.TgZ(0,"p",20),n._uU(1," Email Is Required "),n.qZA())}function h(o,a){1&o&&(n.TgZ(0,"p",20),n._uU(1," Email Invalid Format "),n.qZA())}function w(o,a){if(1&o&&(n.ynx(0),n.YNc(1,d,2,0,"p",19),n.YNc(2,h,2,0,"p",19),n.BQk()),2&o){const s=n.oxw();n.xp6(1),n.Q6J("ngIf",s.f.email.getError("required")),n.xp6(1),n.Q6J("ngIf",s.f.email.getError("email"))}}function Z(o,a){1&o&&(n.TgZ(0,"p",20),n._uU(1," Password Is Required "),n.qZA())}function L(o,a){1&o&&(n.TgZ(0,"p",20),n._uU(1," Must be at least 6 chars "),n.qZA())}function b(o,a){if(1&o&&(n.ynx(0),n.YNc(1,Z,2,0,"p",19),n.YNc(2,L,2,0,"p",19),n.BQk()),2&o){const s=n.oxw();n.xp6(1),n.Q6J("ngIf",s.f.password.getError("required")),n.xp6(1),n.Q6J("ngIf",s.f.password.getError("pattern"))}}function T(o,a){if(1&o&&(n.TgZ(0,"button",21)(1,"span"),n._uU(2,"Login"),n.qZA()()),2&o){const s=n.oxw();n.Q6J("disabled",s.loginForm.invalid)}}function C(o,a){1&o&&(n.TgZ(0,"button",22)(1,"span"),n._UZ(2,"i",23),n.qZA()())}function I(o,a){if(1&o&&(n.TgZ(0,"p",24),n._uU(1),n.qZA()),2&o){const s=n.oxw();n.xp6(1),n.hij(" ",s.errMsg," ")}}const u=function(o){return{"d-none":o}};let v=(()=>{var o;class a{constructor(i,t,p){this._AuthService=i,this._fb=t,this._Router=p,this.passwordShow=!1,this.errMsg="",this.isLoading=!1}ngOnInit(){this.loginForm=this._fb.group({email:["",[e.kI.required,e.kI.email]],password:["",[e.kI.required,e.kI.pattern(/^\w{6,}$/)]]})}get f(){return this.loginForm.controls}handleLogin(){this.isLoading=!0,this.loginForm.valid&&this._AuthService.setLogin(this.loginForm.value).subscribe({next:i=>{"success"===i.message&&(this.isLoading=!1,localStorage.setItem("_token",i.token),this._AuthService.saveUser(),this._Router.navigate(["/home"]))},error:i=>{this.isLoading=!1,this.errMsg=i.error.message}})}}return(o=a).\u0275fac=function(i){return new(i||o)(n.Y36(f.e),n.Y36(e.qu),n.Y36(m.F0))},o.\u0275cmp=n.Xpm({type:o,selectors:[["app-login"]],standalone:!0,features:[n.jDz],decls:26,vars:12,consts:[[1,"bg-main-light","rounded","shadow","p-3"],[1,"display-3","text-center"],[1,"vstack","gap-3","w-75","mx-auto",3,"formGroup","ngSubmit"],[1,"form-item"],["for","email"],["formControlName","email","id","email","type","email","placeholder","Your Email....",1,"form-control"],[4,"ngIf"],["for","password"],[1,"position-relative"],["formControlName","password","id","password","type","password","placeholder","Your Password....",1,"form-control"],["pass",""],["role","button",1,"position-absolute","top-50","end-0","translate-middle-y","me-2",3,"ngClass","click"],[1,"fas","fa-eye"],[1,"fas","fa-eye-slash"],[1,"hstack","justify-content-between"],["type","submit","class","main-btn",3,"disabled",4,"ngIf"],["type","button","disabled","","class","main-btn ms-auto",4,"ngIf"],["role","button","routerLink","/forgotlogin",1,"link-primary"],["class","alert alert-danger text-center w-50 mx-auto mb-0 p-1 mt-3",4,"ngIf"],["class","alert alert-danger w-50 mx-auto p-1 mb-0",4,"ngIf"],[1,"alert","alert-danger","w-50","mx-auto","p-1","mb-0"],["type","submit",1,"main-btn",3,"disabled"],["type","button","disabled","",1,"main-btn","ms-auto"],[1,"fas","fa-spinner","fa-spin"],[1,"alert","alert-danger","text-center","w-50","mx-auto","mb-0","p-1","mt-3"]],template:function(i,t){if(1&i){const p=n.EpF();n.TgZ(0,"section",0)(1,"h1",1),n._uU(2,"Login Now"),n.qZA(),n.TgZ(3,"form",2),n.NdJ("ngSubmit",function(){return t.handleLogin()}),n.TgZ(4,"div",3)(5,"label",4),n._uU(6,"Email:"),n.qZA(),n._UZ(7,"input",5),n.YNc(8,w,3,2,"ng-container",6),n.qZA(),n.TgZ(9,"div",3)(10,"label",7),n._uU(11,"Password:"),n.qZA(),n.TgZ(12,"div",8),n._UZ(13,"input",9,10),n.TgZ(15,"span",11),n.NdJ("click",function(){n.CHM(p);const l=n.MAs(14);return t.passwordShow=!0,n.KtG(l.type=1==t.passwordShow?"text":"password")}),n._UZ(16,"i",12),n.qZA(),n.TgZ(17,"span",11),n.NdJ("click",function(){n.CHM(p);const l=n.MAs(14);return t.passwordShow=!1,n.KtG(l.type=0==t.passwordShow?"password":"text")}),n._UZ(18,"i",13),n.qZA()(),n.YNc(19,b,3,2,"ng-container",6),n.qZA(),n.TgZ(20,"div",14),n.YNc(21,T,3,1,"button",15),n.YNc(22,C,3,0,"button",16),n.TgZ(23,"a",17),n._uU(24,"Forgot Password"),n.qZA()(),n.YNc(25,I,2,1,"p",18),n.qZA()()}2&i&&(n.xp6(3),n.Q6J("formGroup",t.loginForm),n.xp6(5),n.Q6J("ngIf",t.f.email.errors&&(t.f.email.value.length||t.f.email.touched)),n.xp6(7),n.Q6J("ngClass",n.VKq(8,u,t.passwordShow)),n.xp6(2),n.Q6J("ngClass",n.VKq(10,u,!t.passwordShow)),n.xp6(2),n.Q6J("ngIf",t.f.password.errors&&(t.f.password.value.length||t.f.password.touched)),n.xp6(2),n.Q6J("ngIf",!t.isLoading),n.xp6(1),n.Q6J("ngIf",t.isLoading),n.xp6(3),n.Q6J("ngIf",t.errMsg))},dependencies:[g.ez,g.mk,g.O5,e.UX,e._Y,e.Fj,e.JJ,e.JL,e.sg,e.u,m.rH]}),a})()}}]);